{"version":3,"file":"url.js","sources":["url.src.js"],"names":["urlParse","url","parseQueryString","slashesDenoteHost","href","TypeError","out","rest","trim","proto","protocolPattern","exec","lowerProto","toLowerCase","protocol","substr","length","match","slashes","hostlessProtocol","slashedProtocol","atSign","indexOf","auth","slice","hasAuth","i","l","nonAuthChars","decodeURIComponent","firstNonHost","nonHostChars","index","host","p","parseHost","keys","Object","key","hostname","ipv6Hostname","hostnameMaxLen","hostparts","split","part","hostnamePartPattern","newpart","j","k","charCodeAt","validParts","notHost","bit","hostnamePartStart","push","unshift","join","domainArray","newOut","s","punycode","encode","port","unsafeProtocol","autoEscape","ae","esc","encodeURIComponent","escape","hash","qm","search","query","querystring","parse","pathname","path","urlFormat","obj","replace","undefined","stringify","charAt","urlResolve","source","relative","urlResolveObject","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","pop","concat","authInHost","last","hasTrailingSlash","up","splice","isAbsolute","portPattern","require","exports","resolve","resolveObject","format","delims","unwise","javascript","javascript:","http","https","ftp","gopher","file","http:","https:","ftp:","gopher:","file:"],"mappings":"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"}
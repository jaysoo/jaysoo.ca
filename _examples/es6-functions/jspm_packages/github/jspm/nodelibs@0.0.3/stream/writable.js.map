{"version":3,"file":"writable.js","sources":["writable.src.js"],"names":["WriteReq","chunk","encoding","cb","this","callback","WritableState","options","stream","hwm","highWaterMark","objectMode","needDrain","ending","ended","finished","noDecode","decodeStrings","defaultEncoding","length","writing","sync","bufferProcessing","onwrite","er","writecb","writelen","buffer","Writable","Stream","Duplex","_writableState","writable","call","writeAfterEnd","state","Error","emit","setImmediate","validChunk","valid","Buffer","isBuffer","undefined","TypeError","decodeChunk","writeOrBuffer","len","ret","push","doWrite","_write","onwriteError","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","finishMaybe","c","entry","slice","need","endWritable","once","module","exports","isUint8Array","Uint8Array","x","constructor","name","isArrayBuffer","ArrayBuffer","inherits","require","nextTick","prototype","pipe","write","end"],"mappings":"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"}